--- index.html
+++ index.visual-integrated.html
@@ -2,6 +2,62 @@
 
 <html data-theme="dark" lang="ru">
 <head>
+  <link id="visual-preload-apng" rel="preload" as="image" href="assets/veo.apng">
+  <style id="visual-hero-styles">
+  /* === Встраиваемая сцена в HERO (scoped) === */
+  .hero .stage{
+    position:relative; width:100%; max-width:760px;
+    aspect-ratio: 2048 / 1828;
+    margin-inline:auto; isolation:isolate;
+    filter:drop-shadow(0 40px 120px rgba(0,0,0,.55));
+    perspective:1200px; contain:layout paint;
+    background: transparent;
+  }
+  .hero .layer{
+    position:absolute; inset:0; width:100%; height:100%;
+    object-fit:contain; object-position:50% 50%;
+    transform-style:preserve-3d; backface-visibility:hidden;
+    transform-origin:50% 50%; will-change:transform,opacity,filter; opacity:0;
+  }
+  .hero .device, .hero .s1, .hero .s2, .hero .s3, .hero .s4, .hero .s5,
+  .hero .veo { transform: translateZ(0) scaleX(var(--scale-x,1)) scaleY(var(--scale-y,1)); z-index:6; }
+  .hero .veo{ clip-path: inset(var(--clip-t,0) var(--clip-r,0) var(--clip-b,0) var(--clip-l,0)); z-index:4; opacity:0; }
+  .hero .veo.webp{ display:block; }
+  .hero .veo.apng{ display:none; }
+  @media (pointer:coarse), (max-width:820px){
+    .hero .veo.webp{ display:none !important; }
+    .hero .veo.apng{ display:block !important; }
+  }
+  .hero .badge-layer{ position:absolute; inset:0; pointer-events:none; z-index:10;
+    display:flex; align-items:center; padding-inline:clamp(8px,1.8vw,16px); }
+  .hero .badge{
+    display:inline-flex; align-items:center; gap:8px;
+    background: rgba(24,24,28,.86); color:#fff;
+    border-radius:14px; padding:8px 12px; font-weight:800; letter-spacing:.02em;
+    font-variant-numeric:tabular-nums; box-shadow:0 8px 24px rgba(0,0,0,.35);
+    opacity:0; transform: scale(.92) translateY(-6px);
+  }
+  .hero .badge .tag{ font-size: clamp(11px, 2.8vw, 12px); padding:2px 6px; border-radius:10px; background: rgba(255,255,255,.12); }
+  .hero .badge .val{ font-size: clamp(16px, 3.6vw, 22px); line-height:1; }
+  .hero .badge .pct{ font-size: clamp(13px, 3vw, 16px); opacity:.9; margin-left:2px; }
+  .hero .badge.hero{
+    position:absolute; left:clamp(8px,1.8vw,16px); top:50%;
+    transform: translateY(-50%) scale(.88);
+    background: linear-gradient(90deg,#FF7A00 0%, #FFC247 50%, #FF7A00 100%);
+    color:#1a1200; border-radius:16px; padding:10px 14px; opacity:0;
+    box-shadow: 0 10px 26px rgba(255,138,0,.45);
+  }
+  .hero .badge.hero .tag{ background: rgba(0,0,0,.12); color:#1a1200; font-weight:900; }
+  .hero .badge.hero .val{ font-size: clamp(20px, 4.8vw, 28px); }
+  .hero .confirm-chip{
+    position:absolute; left:0; top: calc(100% + 6px);
+    transform: translateY(6px); opacity:0;
+    background: rgba(255,255,255,.12); color:#fff;
+    padding:6px 10px; border-radius:12px; font-size:12px; font-weight:600;
+    backdrop-filter: blur(4px); white-space:nowrap;
+  }
+</style>
+
 <meta charset="utf-8"/>
 <meta content="width=device-width,initial-scale=1" name="viewport"/>
 <title>Инфографика и оформление карточек — wide + motion</title>
@@ -337,7 +393,34 @@
 </div>
 </div>
 <div class="hero-image">
-<img alt="Пример карточки" src="images/product.jpg"/>
+  <div class="stage" id="stage" aria-hidden="true">
+    <!-- Бейджи -->
+    <div class="badge-layer" aria-hidden="true">
+      <div class="badge" id="badge">
+        <span class="tag">CTR</span><span class="val">0.0</span><span class="pct">%</span>
+      </div>
+      <div class="badge hero" id="badge_hero">
+        <span class="tag">CTR</span><span class="val">4.7</span><span class="pct">%</span>
+        <div class="confirm-chip" id="confirm_chip">Качаем CTR!</div>
+      </div>
+    </div>
+
+    <!-- Пошаговые PNG-слои -->
+    <img class="layer device" src="assets/step1.png" alt="frame">
+    <img class="layer s1" src="assets/step2.png" alt="">
+    <img class="layer s2" src="assets/step3.png" alt="">
+    <img class="layer s3" src="assets/step4.png" alt="">
+    <img class="layer s4" src="assets/step5.png" alt="">
+    <img class="layer s5" src="assets/step6.png" alt="">
+
+    <!-- Desktop WEBP -->
+    <img class="layer veo webp" id="veo_webp"
+         src="assets/veo.webp" alt="" aria-hidden="true"
+         loading="eager" fetchpriority="high">
+    <!-- Mobile APNG — src подставит JS, чтобы стартовать с кадра 0 -->
+    <img class="layer veo apng" id="veo_apng"
+         data-src="assets/veo.apng" alt="" aria-hidden="true">
+  </div>
 </div>
 </div>
 </section>
@@ -1047,5 +1130,129 @@
   }
   raf = requestAnimationFrame(loop);
 </script>
+<script src="https://cdn.jsdelivr.net/npm/gsap@3/dist/gsap.min.js"></script>
+<script id="visual-hero-script">
+(() => {
+  const REF_W=2048, REF_H=1828;
+  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
+  const isMobile = window.matchMedia('(pointer: coarse), (max-width: 820px)').matches;
+  const webp = document.getElementById('veo_webp');
+  let apng = document.getElementById('veo_apng');
+
+  const badge = document.getElementById('badge');
+  const hero  = document.getElementById('badge_hero');
+  const chip  = document.getElementById('confirm_chip');
+
+  function showBadge(val){
+    badge.querySelector('.val').textContent = val.toFixed(1);
+    return gsap.timeline()
+      .set(badge,{opacity:0, scale:.92, y:-6})
+      .to(badge,{opacity:1, scale:1, y:0, duration:0.22, ease:'back.out(2)'})
+      .to(badge,{opacity:0, y:-8, scale:.96, duration:0.20, ease:'power2.in'}, '+=1.0');
+  }
+  function showHeroBadge(){
+    return gsap.timeline()
+      .set(hero,{opacity:0, scale:.88, y:-8})
+      .to(hero,{opacity:1, scale:1, y:0, duration:0.32, ease:'back.out(1.8)'})
+      .set(chip,{opacity:0, y:6},'-=0.2')
+      .to(chip,{opacity:1, y:0, duration:0.24, ease:'power2.out'}, '-=0.05')
+      .to(chip,{opacity:0, y:-4, duration:0.32, ease:'power2.in'}, '+=1.2');
+  }
+  function applyClip(img){
+    const nw=img.naturalWidth||REF_W, nh=img.naturalHeight||REF_H;
+    const ar=nw/nh, ref=REF_W/REF_H;
+    if(Math.abs(ar-ref)<0.0001){
+      img.style.setProperty('--clip-t','0'); img.style.setProperty('--clip-b','0');
+      img.style.setProperty('--clip-l','0'); img.style.setProperty('--clip-r','0'); return;
+    }
+    if(ar>ref){ const visibleW=REF_W/REF_H*nh; const side=Math.max(0,(nw-visibleW)/2/nw)*100;
+      img.style.setProperty('--clip-l',side+'%'); img.style.setProperty('--clip-r',side+'%');
+      img.style.setProperty('--clip-t','0'); img.style.setProperty('--clip-b','0');
+    } else { const visibleH=REF_H/REF_W*nw; const top=Math.max(0,(nh-visibleH)/2/nh)*100;
+      img.style.setProperty('--clip-t',top+'%'); img.style.setProperty('--clip-b',top+'%');
+      img.style.setProperty('--clip-l','0'); img.style.setProperty('--clip-r','0'); }
+  }
+
+  // APNG prefetch
+  let apngPrefetched=false, apngBlobURL=null;
+  async function backgroundPreloadAPNG(){
+    if (apngPrefetched) return;
+    const url = apng.getAttribute('data-src'); if(!url) return;
+    try{ const res=await fetch(url,{cache:'force-cache'}); const blob=await res.blob();
+         apngBlobURL = URL.createObjectURL(blob); apngPrefetched=true; }catch(_){}
+  }
+  function whenReady(img, t=4000){
+    const p=('decode' in img)
+      ? img.decode().catch(()=> new Promise(r=> img.complete ? r() : img.addEventListener('load', r, {once:true})))
+      : new Promise(r=> img.complete ? r() : img.addEventListener('load', r, {once:true}));
+    return Promise.race([p, new Promise((_,rej)=>setTimeout(()=>rej(Error('timeout')),t))]);
+  }
+  async function showApngFromZero(){
+    const dataURL = apng.getAttribute('data-src'); if(!dataURL) return;
+    if(!apngPrefetched) { try{ await backgroundPreloadAPNG(); }catch(_){ } }
+    const fresh = apng.cloneNode(false); fresh.removeAttribute('src'); fresh.style.opacity='0';
+    fresh.setAttribute('loading','eager'); fresh.setAttribute('fetchpriority','high');
+    fresh.src = apngBlobURL || dataURL;
+    try{
+      await whenReady(fresh,5000);
+      apng.replaceWith(fresh); apng=fresh;
+      if (apng.complete) applyClip(apng); else apng.addEventListener('load',()=>applyClip(apng),{once:true});
+      gsap.to(apng,{opacity:1,duration:0.28,delay:0.04});
+      if(apngBlobURL){ setTimeout(()=>{ URL.revokeObjectURL(apngBlobURL); apngBlobURL=null; },3000); }
+    }catch(_){
+      apng.src=dataURL; apng.addEventListener('load',()=>applyClip(apng),{once:true});
+      gsap.to(apng,{opacity:1,duration:0.28,delay:0.04});
+    }
+  }
+
+  function buildTimeline(){
+    const tl=gsap.timeline({defaults:{ease:'power3.out'}});
+    gsap.set('.device',{opacity:0,yPercent:4,scale:0.985,rotateZ:-1,filter:'blur(6px)'});
+    gsap.set(['.s1','.s2','.s3','.s4','.s5'],{opacity:0,yPercent:3,rotateX:4,rotateZ:-1,scale:0.99});
+    gsap.set('.veo',{opacity:0});
+
+    tl.to('.device',{opacity:1,yPercent:0,scale:1,rotateZ:0,filter:'blur(0px)',duration:0.55,ease:'back.out(1.6)'});
+    tl.to('.s1',{opacity:1,yPercent:0,rotateX:0,rotateZ:0,scale:1,duration:1.68,ease:'back.out(1.4)'}, '-=0.15')
+      .add(()=>showBadge(1.3), '>-0.02');
+    tl.to('.s2',{opacity:1,yPercent:0,rotateX:0,rotateZ:0,scale:1,duration:1.68,ease:'back.out(1.4)'}, '-=0.10')
+      .add(()=>showBadge(2.3), '>-0.02');
+    tl.to('.s3',{opacity:1,yPercent:0,rotateX:0,rotateZ:0,scale:1,duration:1.68,ease:'back.out(1.4)'}, '-=0.10')
+      .add(()=>showBadge(2.6), '>-0.02');
+    tl.to('.s4',{opacity:1,yPercent:0,rotateX:0,rotateZ:0,scale:1,duration:1.68,ease:'back.out(1.4)'}, '-=0.10')
+      .add(()=>showBadge(3.3), '>-0.02');
+    tl.to('.s5',{opacity:1,yPercent:0,rotateX:0,rotateZ:0,scale:1,duration:1.68,ease:'back.out(1.4)'}, '-=0.10');
+
+    tl.add('switchMedia');
+    tl.call(async ()=>{
+      if(!isMobile){
+        if (webp.complete) applyClip(webp); else webp.addEventListener('load',()=>applyClip(webp),{once:true});
+        gsap.to(['.device','.s1','.s2','.s3','.s4','.s5'],{opacity:0,duration:0.25});
+        gsap.to(webp,{opacity:1,duration:0.25,delay:0.05});
+        setTimeout(()=>{ showHeroBadge(); },1500);
+      } else {
+        gsap.to(['.device','.s1','.s2','.s3','.s4','.s5'],{opacity:0,duration:0.1});
+        await showApngFromZero();
+        setTimeout(()=>{ showHeroBadge(); },1500);
+      }
+    }, null, 'switchMedia');
+
+    return tl;
+  }
+
+  async function init(){
+    if(prefersReduced){
+      document.querySelectorAll('.layer').forEach(el=>{
+        el.style.opacity = (el.classList.contains('veo') ? 1 : 0);
+        el.style.transform='none'; el.style.filter='none';
+      });
+      return;
+    }
+    backgroundPreloadAPNG();
+    if (document.readyState === 'complete') buildTimeline();
+    else window.addEventListener('load', ()=>buildTimeline(), {once:true});
+  }
+  init();
+})();
+</script>
 </body>
 </html>
